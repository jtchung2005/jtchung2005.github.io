<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>互動式 App 展示</title>
    
    <!-- 引入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 引入 Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- 自定義樣式 -->
    <style>
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        /* 簡單的浮動動畫 */
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }
        .animate-float {
            animation: float 3s ease-in-out infinite;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center font-sans text-gray-800 p-4 md:p-8">

    <!-- 主要容器 -->
    <div class="max-w-6xl w-full bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row" style="min-height: 648px;">
        
        <!-- 左側：手機互動區 -->
        <div id="left-panel" class="w-full md:w-full bg-blue-50 flex flex-col items-center justify-center p-8 relative border-r border-gray-100 transition-all duration-500 ease-in-out">
            
            <!-- 女孩頭上的對話框 (新增) -->
            <!-- 預設顯示，透過 JS 控制 opacity 隱藏 -->
            <div id="speech-bubble" class="absolute bottom-52 md:bottom-72 left-10 md:left-16 z-50 bg-white px-5 py-3 rounded-2xl shadow-xl border border-gray-100 transition-all duration-300 origin-bottom-left animate-float">
                <p class="text-sm font-bold text-gray-700 whitespace-nowrap">點擊了解各種生活遊戲化 App！</p>
                <!-- 對話框尾巴 -->
                <div class="absolute -bottom-2 left-6 w-4 h-4 bg-white transform rotate-45 border-b border-r border-gray-100"></div>
            </div>

            <!-- 女孩背影 -->
            <img src="未命名設計 (20).png" 
                 alt="Girl using phone" 
                 class="absolute bottom-0 left-0 w-48 md:w-64 z-50 pointer-events-auto hover:opacity-70 transition-opacity duration-300 object-contain"
                 onerror="this.style.display='none'; document.getElementById('girl-placeholder').style.display='flex';">
            
            <div id="girl-placeholder" class="absolute bottom-0 left-0 w-64 h-64 z-50 bg-yellow-400/50 hidden items-center justify-center text-white font-bold pointer-events-none">
                女孩圖片位置
            </div>

            <!-- 手機本體 -->
            <div class="relative w-[280px] h-[560px] bg-gray-900 rounded-[3rem] border-8 border-gray-800 shadow-2xl flex flex-col overflow-hidden transform transition-transform hover:scale-[1.01] z-10">
                <div class="absolute top-0 inset-x-0 h-6 bg-gray-900 z-20 flex justify-center">
                    <div class="w-32 h-5 bg-black rounded-b-xl"></div>
                </div>
                
                <!-- 手機螢幕：更換背景圖片 -->
                <!-- 修改：移除 bg-white，加入 style 設定背景圖 -->
                <div class="flex-1 w-full pt-12 px-4 pb-8 overflow-y-auto no-scrollbar relative z-10 bg-cover bg-center"
                     style="background-image: url('未命名設計\ \(21\).png');">
                     
                    <!-- 狀態列：文字改為白色以適應深色背景 -->
                    <div class="flex justify-between text-xs font-medium text-white mb-6 px-2 shadow-sm">
                        <span>9:41</span>
                        <div class="flex gap-1">
                            <span>5G</span>
                            <span>100%</span>
                        </div>
                    </div>

                    <div id="app-grid" class="grid grid-cols-3 gap-x-4 gap-y-8">
                        <!-- App icons generated by JS -->
                    </div>

                    <div class="absolute bottom-4 left-4 right-4 h-20 bg-gray-100/30 backdrop-blur-md rounded-3xl flex justify-around items-center px-2 border border-white/20">
                        <div class="w-12 h-12 bg-green-500/90 rounded-xl flex items-center justify-center shadow-sm">
                            <i data-lucide="smartphone" class="text-white w-6 h-6"></i>
                        </div>
                        <div class="w-12 h-12 bg-blue-400/90 rounded-xl flex items-center justify-center shadow-sm">
                            <i data-lucide="languages" class="text-white w-6 h-6"></i>
                        </div>
                        <div class="w-12 h-12 bg-gray-300/90 rounded-xl flex items-center justify-center shadow-sm">
                            <i data-lucide="gamepad-2" class="text-white w-6 h-6"></i>
                        </div>
                    </div>
                </div>

                <div class="absolute bottom-1 inset-x-0 flex justify-center z-20 pb-1">
                    <div class="w-32 h-1 bg-white/50 rounded-full"></div>
                </div>
            </div>

            <!-- 連接箭頭 -->
            <div id="connector-arrow" class="hidden absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-4 z-10 filter drop-shadow-sm transition-opacity duration-300 opacity-0">
                <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 20 L20 0 L20 40 Z" fill="white" />
                </svg>
            </div>
        </div>

        <!-- 右側：資訊面板 -->
        <div id="right-panel" class="w-0 p-0 overflow-hidden bg-white flex flex-col justify-center relative transition-all duration-500 ease-in-out opacity-0">
            <div id="info-content" class="transition-opacity duration-200 opacity-100 min-w-[400px]">
                
                <div class="flex items-center gap-6 mb-8">
                    <div class="w-24 h-24 rounded-3xl overflow-hidden shadow-lg transition-transform hover:scale-105 bg-white shrink-0">
                        <img id="app-icon-large" src="" alt="" class="w-full h-full object-cover">
                    </div>
                    <div>
                        <h2 id="app-title" class="text-4xl font-bold text-gray-900 mb-2"></h2>
                    </div>
                </div>

                <p id="app-description" class="text-xl text-gray-600 leading-relaxed mb-10 text-justify">
                </p>

                <div class="space-y-6">
                    <h3 class="text-lg font-bold text-gray-900 flex items-center gap-2">
                        應用程式特色
                    </h3>
                    <div id="features-grid" class="grid grid-cols-3 gap-4 h-64">
                    </div>
                </div>

            </div>
        </div>

    </div>

    <script>
        const appsData = [
            {
                id: 1,
                name: "Pokémon GO",
                image: "2.png",
                description: "走出戶外，捕捉寶可夢！這款 AR 擴增實境遊戲讓現實世界成為你的冒險舞台。與全球訓練家一起探索、對戰，尋找隱藏在城市角落的傳奇寶可夢。",
                features: ["AR 實境捕捉", "團體戰系統", "夥伴趴趴走"],
                screenshots: ["bg-red-100", "bg-red-200", "bg-red-300"]
            },
            {
                id: 2,
                name: "Walkr",
                image: "3.png",
                description: "口袋裡的銀河冒險。結合計步器與太空探索遊戲，將你的每一步都轉化為太空船的燃料。探索超過 100 顆迷人的星球，讓走路變得充滿動力。",
                features: ["計步轉換能源", "星球探索", "傳說生物收集"],
                screenshots: ["bg-indigo-100", "bg-indigo-200", "bg-indigo-300"]
            },
            {
                id: 3,
                name: "Digital Detox",
                image: "4.png",
                description: "告別手機成癮，找回專注力。當你需要專心工作或學習時，開啟鎖定模式，暫時遠離手機的干擾。培養良好的數位使用習慣，重掌生活主導權。",
                features: ["強制鎖定模式", "使用時間統計", "違規次數追蹤"],
                screenshots: ["bg-emerald-100", "bg-emerald-200", "bg-emerald-300"]
            },
            {
                id: 4,
                name: "Pokémon Sleep",
                image: "5.png",
                description: "伴你入眠的睡眠遊戲。只要將手機放在枕邊，就能記錄你的睡眠狀態。起床後，你會發現與你擁有相同睡眠類型的寶可夢聚集在卡比獸身邊。",
                features: ["睡眠品質追蹤", "寶可夢睡姿圖鑑", "舒眠音效"],
                screenshots: ["bg-blue-100", "bg-blue-200", "bg-blue-300"]
            },
            {
                id: 5,
                name: "Gratitude 365",
                image: "6.png",
                description: "每天記錄三件感恩的事。透過簡單的日記習慣，培養正向思考。簡潔溫暖的介面設計，讓你回顧生活中的美好時刻，讓每一天都充滿感激。",
                features: ["照片日記", "每日提醒", "正向名言"],
                screenshots: ["bg-pink-100", "bg-pink-200", "bg-pink-300"]
            },
            {
                id: 6,
                name: "Duolingo",
                image: "7.png",
                description: "免費、有趣且有效的語言學習 App。透過遊戲化的課程設計，每天只需幾分鐘，就能輕鬆掌握英語、日語、韓語等超過 40 種語言。",
                features: ["遊戲化學習", "聽說讀寫全方位", "連勝獎勵機制"],
                screenshots: ["bg-green-100", "bg-green-200", "bg-green-300"]
            },
            {
                id: 7,
                name: "Forest",
                image: "8.png",
                description: "保持專注，種出專屬森林。當你需要專注時，種下一顆種子。若你忍不住滑手機，小樹就會枯萎。用你的專注力，在手機裡（甚至地球上）種下一片森林。",
                features: ["番茄鐘計時", "種植真樹計畫", "多人專注模式"],
                screenshots: ["bg-teal-100", "bg-teal-200", "bg-teal-300"]
            },
            {
                id: 8,
                name: "Fortune City",
                image: "9.png",
                description: "記帳也能玩城市模擬！將每一筆收支紀錄變成蓋房子的材料。透過輕鬆有趣的遊戲化機制，養成記帳好習慣，打造出獨一無二的繁榮都市。",
                features: ["遊戲化記帳", "城市經營模擬", "收支分析圖表"],
                screenshots: ["bg-cyan-100", "bg-cyan-200", "bg-cyan-300"]
            },
            {
                id: 9,
                name: "Plant Nanny",
                image: "10.png",
                description: "讓喝水變成一件療癒的事。結合可愛植物養成的喝水提醒 App。當你喝水的同時，也為你的植物澆水，看著它們和你一起健康長大。",
                features: ["喝水提醒", "可愛植物養成", "水分攝取統計"],
                screenshots: ["bg-sky-100", "bg-sky-200", "bg-sky-300"]
            }
        ];

        // 初始狀態：沒有選中任何 App
        let currentAppId = null;
        let isAnimating = false;

        const appGridEl = document.getElementById('app-grid');
        const leftPanelEl = document.getElementById('left-panel');
        const rightPanelEl = document.getElementById('right-panel');
        const connectorArrowEl = document.getElementById('connector-arrow');
        const infoContentEl = document.getElementById('info-content');
        const speechBubbleEl = document.getElementById('speech-bubble'); // 取得對話框元素
        
        const appIconLargeEl = document.getElementById('app-icon-large');
        const appTitleEl = document.getElementById('app-title');
        const appDescriptionEl = document.getElementById('app-description');
        const featuresGridEl = document.getElementById('features-grid');

        function init() {
            renderAppGrid();
            updateLayoutState(); // 根據初始狀態更新版面
            lucide.createIcons();
        }

        function updateLayoutState() {
            const isPanelOpen = currentAppId !== null;
            
            if (isPanelOpen) {
                // 展開狀態
                leftPanelEl.classList.remove('md:w-full');
                leftPanelEl.classList.add('md:w-5/12');
                
                rightPanelEl.classList.remove('w-0', 'p-0', 'opacity-0');
                rightPanelEl.classList.add('md:w-7/12', 'p-8', 'lg:p-12', 'opacity-100');
                
                connectorArrowEl.classList.remove('hidden', 'opacity-0');
                connectorArrowEl.classList.add('md:block', 'opacity-100');

                // 隱藏對話框
                speechBubbleEl.classList.add('opacity-0', 'scale-90', 'pointer-events-none');
            } else {
                // 收合狀態
                leftPanelEl.classList.remove('md:w-5/12');
                leftPanelEl.classList.add('md:w-full');
                
                rightPanelEl.classList.remove('md:w-7/12', 'p-8', 'lg:p-12', 'opacity-100');
                rightPanelEl.classList.add('w-0', 'p-0', 'opacity-0');
                
                connectorArrowEl.classList.remove('md:block', 'opacity-100');
                connectorArrowEl.classList.add('hidden', 'opacity-0');

                // 顯示對話框
                speechBubbleEl.classList.remove('opacity-0', 'scale-90', 'pointer-events-none');
            }
        }

        function renderAppGrid() {
            appGridEl.innerHTML = '';
            appsData.forEach(app => {
                const appItem = document.createElement('div');
                appItem.className = 'flex flex-col items-center gap-2 group cursor-pointer';
                appItem.onclick = () => handleAppClick(app.id);

                const isSelected = currentAppId === app.id;
                const ringClass = isSelected ? 'ring-4 ring-offset-2 ring-blue-400 scale-105' : '';
                const textClass = isSelected ? 'text-blue-600 font-bold' : 'text-gray-600';

                appItem.innerHTML = `
                    <div class="w-14 h-14 rounded-2xl overflow-hidden bg-white shadow-md transition-all duration-300 transform group-hover:scale-110 group-active:scale-95 ${ringClass}">
                        <img src="${app.image}" alt="${app.name}" class="w-full h-full object-cover">
                    </div>
                    <span class="text-[10px] font-medium text-center w-full truncate px-1 ${textClass}">
                        ${app.name}
                    </span>
                `;
                appGridEl.appendChild(appItem);
            });
        }

        function handleAppClick(id) {
            if (isAnimating) return;
            
            // 如果點擊同一個 App，則切換為收合狀態 (null)
            // 如果點擊不同 App，則切換為該 App
            const nextAppId = currentAppId === id ? null : id;
            
            isAnimating = true;
            currentAppId = nextAppId;
            
            renderAppGrid();
            updateLayoutState();

            if (currentAppId !== null) {
                // 如果是展開，先做內容淡出淡入
                infoContentEl.classList.add('opacity-0');
                setTimeout(() => {
                    updateInfoPanel(currentAppId);
                    infoContentEl.classList.remove('opacity-0');
                    isAnimating = false;
                }, 300); // 等待佈局展開差不多後再顯示內容
            } else {
                isAnimating = false;
            }
        }

        function updateInfoPanel(id) {
            const app = appsData.find(a => a.id === id);
            if (!app) return;

            appIconLargeEl.src = app.image;
            appIconLargeEl.alt = app.name;
            appTitleEl.textContent = app.name;
            appDescriptionEl.textContent = app.description;

            featuresGridEl.innerHTML = '';
            app.features.forEach((feature, index) => {
                const colorClass = app.screenshots[index] || 'bg-gray-100';
                const featureCard = document.createElement('div');
                featureCard.className = `${colorClass} rounded-2xl shadow-inner border-2 border-white/50 flex flex-col items-center justify-center p-4 relative overflow-hidden group transition-transform hover:-translate-y-1 cursor-default`;
                featureCard.innerHTML = `
                    <div class="absolute inset-0 bg-black/5 group-hover:bg-transparent transition-colors"></div>
                    <div class="w-10 h-10 bg-white/60 rounded-full mb-3 flex items-center justify-center shadow-sm">
                        <span class="text-xl">✨</span>
                    </div>
                    <span class="text-sm font-bold text-gray-700 text-center leading-tight">${feature}</span>
                `;
                featuresGridEl.appendChild(featureCard);
            });
        }

        init();

    </script>
</body>
</html>